{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/* eslint-disable func-names */\n\nvar ChildrenPlugin = function ChildrenPlugin(target, vars) {\n  this.target = target;\n  this.vars = vars;\n};\n\nChildrenPlugin.prototype = {\n  name: 'Children',\n  getAnimStart: function getAnimStart() {\n    var formatMoney = this.vars.formatMoney;\n    var opts = {\n      thousand: formatMoney && formatMoney.thousand || ',',\n      decimal: formatMoney && formatMoney.decimal || '.'\n    };\n    var rep = new RegExp('\\\\' + opts.thousand, 'g');\n    this.start = this.vars.startAt || {\n      value: parseFloat(this.target.innerHTML.replace(rep, '').replace(opts.decimal, '.')) || 0\n    };\n  },\n  toMoney: function toMoney(v, _opts) {\n    var opts = {\n      thousand: _opts.thousand || ',',\n      decimal: _opts.decimal || '.'\n    };\n    var negative = parseFloat(v) < 0 ? '-' : '';\n    var numberArray = v.toString().split('.');\n    var base = Math.abs(parseInt(numberArray[0], 10)).toString();\n    var mod = base.length > 3 ? base.length % 3 : 0;\n    var decimal = numberArray[1];\n    return '' + negative + (mod ? '' + base.substr(0, mod) + opts.thousand : '') + base.substr(mod).replace(/(\\d{3})(?=\\d)/g, '$1' + opts.thousand) + (decimal ? '' + opts.decimal + decimal : '');\n  },\n  setRatio: function setRatio(ratio) {\n    var _vars = this.vars,\n        value = _vars.value,\n        floatLength = _vars.floatLength,\n        formatMoney = _vars.formatMoney;\n    var v = (value - this.start.value) * ratio + this.start.value;\n\n    if (typeof floatLength === 'number') {\n      if (floatLength) {\n        v = v.toFixed(floatLength);\n        var numberArray = v.toString().split('.');\n        var decimal = numberArray[1] || '';\n        decimal = decimal.length > floatLength ? decimal.substring(0, floatLength) : decimal;\n        var l = floatLength - decimal.length;\n\n        if (l) {\n          Array(l).fill(0).forEach(function (num) {\n            decimal += '' + num;\n          });\n        }\n\n        v = numberArray[0] + '.' + decimal;\n      } else {\n        v = Math.round(v);\n      }\n    }\n\n    v = formatMoney ? this.toMoney(v, formatMoney) : v;\n    this.target.innerHTML = v;\n  }\n};\nexports['default'] = ChildrenPlugin;\nmodule.exports = exports['default'];","map":null,"metadata":{},"sourceType":"script"}