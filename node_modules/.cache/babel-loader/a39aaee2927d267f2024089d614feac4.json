{"ast":null,"code":"import \"antd/es/carousel/style\";\nimport _Carousel from \"antd/es/carousel\";\nimport \"antd/es/row/style\";\nimport _Row from \"antd/es/row\";\nimport \"antd/es/col/style\";\nimport _Col from \"antd/es/col\";\nimport _objectWithoutProperties from \"/Users/chenanran/WebstormProjects/iCube-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/Users/chenanran/WebstormProjects/iCube-master/src/AIResearch/Feature6.jsx\";\nimport React from 'react';\nimport OverPack from 'rc-scroll-anim/lib/ScrollOverPack';\nimport QueueAnim from 'rc-queue-anim';\nimport TweenOne from 'rc-tween-one';\nimport Children from 'rc-tween-one/lib/plugin/ChildrenPlugin';\nTweenOne.plugins.push(Children);\n\nclass Feature6 extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.onTitleClick = (_, i) => {\n      const carouselRef = this.carouselRef.current.childRefs.carousel;\n      carouselRef.goTo(i);\n    };\n\n    this.onBeforeChange = (_, newIndex) => {\n      this.setState({\n        current: newIndex\n      });\n    };\n\n    this.getChildrenToRender = dataSource => {\n      const current = this.state.current;\n      const Carousel = dataSource.Carousel;\n\n      const titleWrapper = Carousel.titleWrapper,\n            childWrapper = Carousel.children,\n            wrapper = Carousel.wrapper,\n            carouselProps = _objectWithoutProperties(Carousel, [\"titleWrapper\", \"children\", \"wrapper\"]);\n\n      const barWrapper = titleWrapper.barWrapper,\n            titleChild = titleWrapper.title,\n            titleWrapperProps = _objectWithoutProperties(titleWrapper, [\"barWrapper\", \"title\"]);\n\n      const titleToRender = [];\n      const childrenToRender = childWrapper.map((item, ii) => {\n        const title = item.title,\n              children = item.children,\n              itemProps = _objectWithoutProperties(item, [\"title\", \"children\"]);\n\n        titleToRender.push(React.createElement(\"div\", Object.assign({}, title, {\n          key: ii.toString(),\n          onClick: e => {\n            this.onTitleClick(e, ii);\n          },\n          className: ii === current ? \"\".concat(title.className || '', \" active\") : title.className,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }), title.children));\n        const childrenItem = children.map(($item, i) => {\n          const number = $item.number,\n                child = $item.children,\n                childProps = _objectWithoutProperties($item, [\"number\", \"children\"]);\n\n          const numberChild = number.children.replace(/[^0-9.-]/g, '');\n\n          const unit = number.unit,\n                toText = number.toText,\n                numberProps = _objectWithoutProperties(number, [\"unit\", \"toText\"]);\n\n          return React.createElement(_Col, Object.assign({}, childProps, {\n            key: i.toString(),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 68\n            },\n            __self: this\n          }), React.createElement(TweenOne, Object.assign({}, numberProps, {\n            animation: {\n              Children: {\n                value: parseFloat(numberChild),\n                floatLength: parseFloat(numberChild) - Math.floor(parseFloat(numberChild)) > 0 ? 2 : 0,\n                formatMoney: true\n              },\n              duration: 1000,\n              delay: 300,\n              ease: 'easeInOutCirc'\n            },\n            component: \"span\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 69\n            },\n            __self: this\n          }), \"0\"), unit && React.createElement(\"span\", Object.assign({}, unit, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 90\n            },\n            __self: this\n          }), unit.children), React.createElement(\"p\", Object.assign({}, child, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 91\n            },\n            __self: this\n          }), child.children));\n        });\n        return React.createElement(QueueAnim, Object.assign({\n          type: \"bottom\",\n          component: _Row\n        }, itemProps, {\n          key: ii.toString(),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }), childrenItem);\n      });\n      const width = 100 / childrenToRender.length;\n      return React.createElement(QueueAnim, Object.assign({\n        key: \"queue\",\n        leaveReverse: true,\n        type: \"bottom\",\n        delay: [0, 100]\n      }, wrapper, {\n        ref: this.carouselRef,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }), React.createElement(\"div\", Object.assign({}, titleWrapperProps, {\n        key: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }), React.createElement(\"div\", Object.assign({}, titleChild, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }), titleToRender, React.createElement(\"div\", Object.assign({}, barWrapper, {\n        style: {\n          width: \"\".concat(width, \"%\"),\n          left: \"\".concat(width * current, \"%\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }), React.createElement(\"em\", Object.assign({}, barWrapper.children, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }))))), React.createElement(_Carousel, Object.assign({}, carouselProps, {\n        key: \"carousel\",\n        infinite: false,\n        beforeChange: this.onBeforeChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }), childrenToRender));\n    };\n\n    this.carouselRef = React.createRef();\n    this.state = {\n      current: 0\n    };\n  }\n\n  render() {\n    const _this$props = this.props,\n          dataSource = _this$props.dataSource,\n          isMobile = _this$props.isMobile,\n          props = _objectWithoutProperties(_this$props, [\"dataSource\", \"isMobile\"]);\n\n    return React.createElement(\"div\", Object.assign({}, props, dataSource.wrapper, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(OverPack, Object.assign({}, dataSource.OverPack, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }), this.getChildrenToRender(dataSource))));\n  }\n\n}\n\nexport default Feature6;","map":{"version":3,"sources":["/Users/chenanran/WebstormProjects/iCube-master/src/AIResearch/Feature6.jsx"],"names":["React","OverPack","QueueAnim","TweenOne","Children","plugins","push","Feature6","PureComponent","constructor","props","onTitleClick","_","i","carouselRef","current","childRefs","carousel","goTo","onBeforeChange","newIndex","setState","getChildrenToRender","dataSource","state","Carousel","titleWrapper","childWrapper","children","wrapper","carouselProps","barWrapper","titleChild","title","titleWrapperProps","titleToRender","childrenToRender","map","item","ii","itemProps","toString","e","className","childrenItem","$item","number","child","childProps","numberChild","replace","unit","toText","numberProps","value","parseFloat","floatLength","Math","floor","formatMoney","duration","delay","ease","width","length","left","createRef","render","isMobile"],"mappings":"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","sourcesContent":["import React from 'react';\nimport OverPack from 'rc-scroll-anim/lib/ScrollOverPack';\nimport QueueAnim from 'rc-queue-anim';\nimport { Carousel as AntCarousel, Row, Col } from 'antd';\nimport TweenOne from 'rc-tween-one';\nimport Children from 'rc-tween-one/lib/plugin/ChildrenPlugin';\n\nTweenOne.plugins.push(Children);\n\nclass Feature6 extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.carouselRef = React.createRef();\n    this.state = {\n      current: 0,\n    };\n  }\n\n  onTitleClick = (_, i) => {\n    const carouselRef = this.carouselRef.current.childRefs.carousel;\n    carouselRef.goTo(i);\n  };\n\n  onBeforeChange = (_, newIndex) => {\n    this.setState({\n      current: newIndex,\n    });\n  };\n\n  getChildrenToRender = (dataSource) => {\n    const { current } = this.state;\n    const { Carousel } = dataSource;\n    const {\n      titleWrapper,\n      children: childWrapper,\n      wrapper,\n      ...carouselProps\n    } = Carousel;\n\n    const {\n      barWrapper,\n      title: titleChild,\n      ...titleWrapperProps\n    } = titleWrapper;\n    const titleToRender = [];\n\n    const childrenToRender = childWrapper.map((item, ii) => {\n      const { title, children, ...itemProps } = item;\n      titleToRender.push(\n        <div\n          {...title}\n          key={ii.toString()}\n          onClick={(e) => {\n            this.onTitleClick(e, ii);\n          }}\n          className={\n            ii === current ? `${title.className || ''} active` : title.className\n          }\n        >\n          {title.children}\n        </div>\n      );\n      const childrenItem = children.map(($item, i) => {\n        const { number, children: child, ...childProps } = $item;\n        const numberChild = number.children.replace(/[^0-9.-]/g, '');\n        const { unit, toText, ...numberProps } = number;\n        return (\n          <Col {...childProps} key={i.toString()}>\n            <TweenOne\n              {...numberProps}\n              animation={{\n                Children: {\n                  value: parseFloat(numberChild),\n                  floatLength:\n                    parseFloat(numberChild) -\n                      Math.floor(parseFloat(numberChild)) >\n                    0\n                      ? 2\n                      : 0,\n                  formatMoney: true,\n                },\n                duration: 1000,\n                delay: 300,\n                ease: 'easeInOutCirc',\n              }}\n              component=\"span\"\n            >\n              0\n            </TweenOne>\n            {unit && <span {...unit}>{unit.children}</span>}\n            <p {...child}>{child.children}</p>\n          </Col>\n        );\n      });\n      return (\n        <QueueAnim\n          type=\"bottom\"\n          component={Row}\n          {...itemProps}\n          key={ii.toString()}\n        >\n          {childrenItem}\n        </QueueAnim>\n      );\n    });\n\n    const width = 100 / childrenToRender.length;\n    return (\n      <QueueAnim\n        key=\"queue\"\n        leaveReverse\n        type=\"bottom\"\n        delay={[0, 100]}\n        {...wrapper}\n        ref={this.carouselRef}\n      >\n        <div {...titleWrapperProps} key=\"title\">\n          <div {...titleChild}>\n            {titleToRender}\n            <div\n              {...barWrapper}\n              style={{\n                width: `${width}%`,\n                left: `${width * current}%`,\n              }}\n            >\n              <em {...barWrapper.children} />\n            </div>\n          </div>\n        </div>\n        <AntCarousel\n          {...carouselProps}\n          key=\"carousel\"\n          infinite={false}\n          beforeChange={this.onBeforeChange}\n        >\n          {childrenToRender}\n        </AntCarousel>\n      </QueueAnim>\n    );\n  };\n\n  render() {\n    const { dataSource, isMobile, ...props } = this.props;\n    return (\n      <div {...props} {...dataSource.wrapper}>\n        <div>\n          <OverPack {...dataSource.OverPack}>\n            {this.getChildrenToRender(dataSource)}\n          </OverPack>\n        </div>\n      </div>\n    );\n  }\n}\nexport default Feature6;\n"]},"metadata":{},"sourceType":"module"}