{"ast":null,"code":"import \"antd/es/carousel/style\";\nimport _Carousel from \"antd/es/carousel\";\nimport \"antd/es/row/style\";\nimport _Row from \"antd/es/row\";\nimport \"antd/es/col/style\";\nimport _Col from \"antd/es/col\";\nimport _extends from \"/Users/chenanran/WebstormProjects/iCube-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"/Users/chenanran/WebstormProjects/iCube-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/Users/chenanran/WebstormProjects/iCube-master/src/AIResearch/Feature8.jsx\";\nimport React from 'react';\nimport OverPack from 'rc-scroll-anim/lib/ScrollOverPack';\nimport QueueAnim from 'rc-queue-anim';\nimport { getChildrenToRender } from './utils';\n\nclass Feature8 extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.onTitleClick = (_, i) => {\n      const carouselRef = this.carouselRef.current.childRefs.carousel;\n      carouselRef.goTo(i);\n    };\n\n    this.onBeforeChange = (_, newIndex) => {\n      this.setState({\n        current: newIndex\n      });\n    };\n\n    this.getChildrenToRender = dataSource => {\n      const current = this.state.current;\n      const Carousel = dataSource.Carousel,\n            buttonWrapper = dataSource.childWrapper;\n\n      const carouselChild = Carousel.children,\n            wrapper = Carousel.wrapper,\n            carouselProps = _objectWithoutProperties(Carousel, [\"children\", \"wrapper\"]);\n\n      const titleWrapper = carouselChild.titleWrapper,\n            childWrapper = carouselChild.children,\n            childrenProps = _objectWithoutProperties(carouselChild, [\"titleWrapper\", \"children\"]);\n\n      const barWrapper = titleWrapper.barWrapper,\n            titleChild = titleWrapper.title,\n            titleWrapperProps = _objectWithoutProperties(titleWrapper, [\"barWrapper\", \"title\"]);\n\n      const titleToRender = [];\n      const childrenToRender = childWrapper.map((item, ii) => {\n        const title = item.title,\n              childRow = item.children,\n              rowProps = _objectWithoutProperties(item, [\"title\", \"children\"]);\n\n        if (childWrapper.length > 1) {\n          titleToRender.push(React.createElement(\"div\", Object.assign({}, title, {\n            key: ii.toString(),\n            onClick: e => {\n              this.onTitleClick(e, ii);\n            },\n            className: ii === current ? \"\".concat(title.className || '', \" active\") : title.className,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 48\n            },\n            __self: this\n          }), title.children));\n        }\n\n        const childrenItem = childRow.map(($item, i) => {\n          const colChild = $item.children,\n                arrow = $item.arrow,\n                colProps = _objectWithoutProperties($item, [\"children\", \"arrow\"]);\n\n          const childProps = _extends({}, colChild);\n\n          return React.createElement(_Col, Object.assign({}, colProps, {\n            key: i.toString(),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 68\n            },\n            __self: this\n          }), React.createElement(\"div\", Object.assign({}, childProps, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 69\n            },\n            __self: this\n          }), colChild.children.map(getChildrenToRender)), arrow && React.createElement(\"div\", Object.assign({}, arrow, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 73\n            },\n            __self: this\n          }), React.createElement(\"img\", {\n            src: arrow.children,\n            alt: \"img\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 74\n            },\n            __self: this\n          })));\n        });\n        return React.createElement(\"div\", {\n          key: ii.toString(),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, React.createElement(QueueAnim, Object.assign({\n          component: _Row,\n          type: \"bottom\",\n          componentProps: {\n            type: 'flex'\n          }\n        }, rowProps, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }), childrenItem));\n      });\n      return React.createElement(QueueAnim, Object.assign({\n        key: \"queue\",\n        type: \"bottom\",\n        ref: this.carouselRef\n      }, childrenProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }), childWrapper.length > 1 && React.createElement(\"div\", Object.assign({}, titleWrapperProps, {\n        key: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }), React.createElement(\"div\", Object.assign({}, titleChild, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), titleToRender)), React.createElement(_Carousel, Object.assign({\n        key: \"carousel\"\n      }, carouselProps, {\n        infinite: false,\n        beforeChange: this.onBeforeChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }), childrenToRender), React.createElement(\"div\", Object.assign({\n        key: \"button\"\n      }, buttonWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }), buttonWrapper.children.map(getChildrenToRender)));\n    };\n\n    this.carouselRef = React.createRef();\n    this.state = {\n      current: 0\n    };\n  }\n\n  render() {\n    const _this$props = this.props,\n          dataSource = _this$props.dataSource,\n          isMobile = _this$props.isMobile,\n          props = _objectWithoutProperties(_this$props, [\"dataSource\", \"isMobile\"]);\n\n    const titleWrapper = dataSource.titleWrapper;\n    return React.createElement(\"div\", Object.assign({}, props, dataSource.wrapper, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }), React.createElement(\"div\", Object.assign({}, dataSource.page, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }), React.createElement(\"div\", Object.assign({}, dataSource.titleWrapper, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }), titleWrapper.children.map(getChildrenToRender)), React.createElement(OverPack, Object.assign({}, dataSource.OverPack, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }), this.getChildrenToRender(dataSource))));\n  }\n\n}\n\nexport default Feature8;","map":{"version":3,"sources":["/Users/chenanran/WebstormProjects/iCube-master/src/AIResearch/Feature8.jsx"],"names":["React","OverPack","QueueAnim","getChildrenToRender","Feature8","PureComponent","constructor","props","onTitleClick","_","i","carouselRef","current","childRefs","carousel","goTo","onBeforeChange","newIndex","setState","dataSource","state","Carousel","buttonWrapper","childWrapper","carouselChild","children","wrapper","carouselProps","titleWrapper","childrenProps","barWrapper","titleChild","title","titleWrapperProps","titleToRender","childrenToRender","map","item","ii","childRow","rowProps","length","push","toString","e","className","childrenItem","$item","colChild","arrow","colProps","childProps","type","createRef","render","isMobile","page"],"mappings":"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","sourcesContent":["import React from 'react';\nimport OverPack from 'rc-scroll-anim/lib/ScrollOverPack';\nimport QueueAnim from 'rc-queue-anim';\nimport { Carousel as AntCarousel, Row, Col } from 'antd';\nimport { getChildrenToRender } from './utils';\n\nclass Feature8 extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.carouselRef = React.createRef();\n    this.state = {\n      current: 0,\n    };\n  }\n\n  onTitleClick = (_, i) => {\n    const carouselRef = this.carouselRef.current.childRefs.carousel;\n    carouselRef.goTo(i);\n  };\n\n  onBeforeChange = (_, newIndex) => {\n    this.setState({\n      current: newIndex,\n    });\n  };\n\n  getChildrenToRender = (dataSource) => {\n    const { current } = this.state;\n    const { Carousel, childWrapper: buttonWrapper } = dataSource;\n    const { children: carouselChild, wrapper, ...carouselProps } = Carousel;\n    const {\n      titleWrapper,\n      children: childWrapper,\n      ...childrenProps\n    } = carouselChild;\n\n    const {\n      barWrapper,\n      title: titleChild,\n      ...titleWrapperProps\n    } = titleWrapper;\n    const titleToRender = [];\n\n    const childrenToRender = childWrapper.map((item, ii) => {\n      const { title, children: childRow, ...rowProps } = item;\n      if (childWrapper.length > 1) {\n        titleToRender.push(\n          <div\n            {...title}\n            key={ii.toString()}\n            onClick={(e) => {\n              this.onTitleClick(e, ii);\n            }}\n            className={\n              ii === current\n                ? `${title.className || ''} active`\n                : title.className\n            }\n          >\n            {title.children}\n          </div>\n        );\n      }\n      const childrenItem = childRow.map(($item, i) => {\n        const { children: colChild, arrow, ...colProps } = $item;\n        const { ...childProps } = colChild;\n        return (\n          <Col {...colProps} key={i.toString()}>\n            <div {...childProps}>\n              {colChild.children.map(getChildrenToRender)}\n            </div>\n            {arrow && (\n              <div {...arrow}>\n                <img src={arrow.children} alt=\"img\" />\n              </div>\n            )}\n          </Col>\n        );\n      });\n\n      return (\n        <div key={ii.toString()}>\n          <QueueAnim\n            component={Row}\n            type=\"bottom\"\n            componentProps={{ type: 'flex' }}\n            {...rowProps}\n          >\n            {childrenItem}\n          </QueueAnim>\n        </div>\n      );\n    });\n\n    return (\n      <QueueAnim\n        key=\"queue\"\n        type=\"bottom\"\n        ref={this.carouselRef}\n        {...childrenProps}\n      >\n        {childWrapper.length > 1 && (\n          <div {...titleWrapperProps} key=\"title\">\n            <div {...titleChild}>{titleToRender}</div>\n          </div>\n        )}\n        <AntCarousel\n          key=\"carousel\"\n          {...carouselProps}\n          infinite={false}\n          beforeChange={this.onBeforeChange}\n        >\n          {childrenToRender}\n        </AntCarousel>\n        <div key=\"button\" {...buttonWrapper}>\n          {buttonWrapper.children.map(getChildrenToRender)}\n        </div>\n      </QueueAnim>\n    );\n  };\n\n  render() {\n    const { dataSource, isMobile, ...props } = this.props;\n    const { titleWrapper } = dataSource;\n    return (\n      <div {...props} {...dataSource.wrapper}>\n        <div {...dataSource.page}>\n          <div {...dataSource.titleWrapper}>\n            {titleWrapper.children.map(getChildrenToRender)}\n          </div>\n          <OverPack {...dataSource.OverPack}>\n            {this.getChildrenToRender(dataSource)}\n          </OverPack>\n        </div>\n      </div>\n    );\n  }\n}\nexport default Feature8;\n"]},"metadata":{},"sourceType":"module"}